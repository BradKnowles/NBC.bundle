<?xml version="1.0" encoding="UTF-8"?>
<site site="http://.*(nbc|latenightwithjimmyfallon)\.com"
	plugin="http://.*(nbc|latenightwithjimmyfallon)\.com/.*DirectWidget\.swf"
	initialState="prepare"
	windowWidth="854"
	windowHeight="534"
	version="2.0">

	<crop x="0" y="28" width="854" height="480" />

<!-- New player, new seekbar that doesn't work, argh
	<seekbar type="simple">
		<start x="72" y="526" />
		<end x="630" y="526" />
		<played>
			<color rgb="191919" />
		</played>
	</seekbar>
-->

	<!-- PREPARE -->
	<state name="prepare">
		<event>
			<condition>
				<frameLoaded />
			</condition>
			<action>
				<run script="x=generateCodeForm();x=x.replace(/[\s\S]+\&lt;embed src=&quot;([^&quot;]+)[\s\S]+/,'$1');document.getElementsByTagName('html')[0].innerHTML='&lt;embed type=&quot;application/x-shockwave-flash&quot; src=&quot;' + x + '&quot; height=&quot;534&quot; width=&quot;854&quot;&gt;';" />
				<goto state="click-to-play" />
			</action>
		</event>
	</state>

	<!-- CLICK-TO-PLAY -->
	<state name="click-to-play">
		<event>
			<condition>
				<url matches="mezzanine.*\.jpg" />
			</condition>
			<action>
				<pause time="5000" />
				<click x="-8" y="-56" />
				<click x="427" y="270" />
				<goto state="playing" />
			</action>
		</event>
	</state>

	<!-- PLAYING -->
	<state name="playing">
		<event>
			<condition>
				<command name="pause" />
			</condition>
			<action>
				<click x="18" y="524" />
				<goto state="paused" />
			</action>
		</event>

		<!-- Video ends -->
		<event>
			<condition>
				<url matches="mezzanine.*\.jpg" />
			</condition>
			<action>
				<goto state="end" />
			</action>
		</event>
	</state>

	<!-- PAUSED -->
	<state name="paused">
		<event>
			<condition>
				<command name="play" />
			</condition>
			<action>
                <click x="18" y="524" />
				<goto state="playing" />
			</action>
		</event>
	</state>
</site>