<?xml version="1.0" encoding="UTF-8"?>
<site site="http://www.nbc.com"
	plugin="http://widget.nbc.com/fullep/fullep_at25.swf"
	initialState="prepare"
	windowWidth="896"
	windowHeight="622"
	version="2.0">

	<crop x="0" y="63" width="896" height="504" />

	<seekbar type="thumb">
		<start x="62" y="596" />
		<end   x="483" y="596" />
		<played>
			<color rgb="37d3fd" />
		</played>
	</seekbar>

	<!-- PREPARE -->
	<state name="prepare">
		<event>
			<condition>
				<frameLoaded />
			</condition>
			<action>
				<run script="x=generateCodeForm();x=x.replace(/[\s\S]+\&lt;embed src=&quot;([^&quot;]+)[\s\S]+/,'$1');document.getElementsByTagName('html')[0].innerHTML='&lt;embed type=&quot;application/x-shockwave-flash&quot; src=&quot;' + x + '&quot; height=&quot;622&quot; width=&quot;896&quot;&gt;';" />
				<goto state="click-to-play" />
			</action>
		</event>
	</state>

	<!-- CLICK-TO-PLAY -->
	<state name="click-to-play">
		<event>
			<condition>
				<color x="62" y="596" rgb="37d3fd" />
			</condition>
			<action>
				<click x="33" y="596" />
				<goto state="playing" />
			</action>
		</event>
	</state>

	<!-- PLAYING -->
	<state name="playing">
		<event>
			<condition>
				<command name="pause" />
			</condition>
			<action>
				<click x="33" y="596" />
				<goto state="paused" />
			</action>
		</event>

		<!-- Video ends -->
		<event>
			<condition>
				<url matches="http://www.nbc.com/video/library/" />
			</condition>
			<action>
				<goto state="end" />
			</action>
		</event>
	</state>

	<!-- PAUSED -->
	<state name="paused">
		<event>
			<condition>
				<command name="play" />
			</condition>
			<action>
                <click x="33" y="596" />
				<goto state="playing" />
			</action>
		</event>
	</state>
</site>